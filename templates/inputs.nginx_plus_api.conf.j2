# Read Nginx Plus Api documentation
[[inputs.nginx_plus_api]]
  ## An array of API URI to gather stats.
  urls = [ {% for i in telegraf_inputs_nginx_plus_api_urls|d([]) %}"{{ i }}"{{ ', ' if not loop.last }}{% endfor %} ]

  # Nginx API version, default: 3
  {{ '#' if telegraf_inputs_nginx_plus_api_api_version is not defined }}api_version = {{ telegraf_inputs_nginx_plus_api_api_version|d() }}

  # HTTP response timeout (default: 5s)
  response_timeout = "{{ telegraf_inputs_nginx_plus_api_response_timeout|d() }}"

  ## Optional TLS Config
  {{ '#' if telegraf_inputs_nginx_plus_api_tls_ca is not defined }}tls_ca = "{{ telegraf_inputs_nginx_plus_api_tls_ca|d() }}"
  {{ '#' if telegraf_inputs_nginx_plus_api_tls_cert is not defined }}tls_cert = "{{ telegraf_inputs_nginx_plus_api_tls_cert|d() }}"
  {{ '#' if telegraf_inputs_nginx_plus_api_tls_key is not defined }}tls_key = "{{ telegraf_inputs_nginx_plus_api_tls_key|d() }}"
  ## Use TLS but skip chain & host verification
  {{ '#' if telegraf_inputs_nginx_plus_api_insecure_skip_verify is not defined }}insecure_skip_verify = {{ telegraf_inputs_nginx_plus_api_insecure_skip_verify|d()|bool|lower }}
